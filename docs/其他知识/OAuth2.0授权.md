## 概念
OAuth2.0 是一个关于授权（authorization）的开放标准,允许用户让第三方应用（A网站）访问该用户在某一网站（B网站）上存储的私密的资料（如照片，视频等），且无需将用户和密码提供给第三方应用。


## 名词解释
1. `Third-party Application` 第三方应用程序（又称客户端-A网站）
2. `HTTP service` HTTP服务提供商（即B网站）
3. `Resource Owner`资源拥有者（用户），
4. `User Agent` 用户代理（浏览器或APP或或微信小程序等）
5. `Authorization server`认证服务器，（即B网站）专门用来处理认证的的服务器
6. `Resource server`资源服务器，（B网站）服务提供商专门存放用户资源的服务器（可以与认证服务器为同一台服务器）

## 设计思路

Oauth在客户端与服务端之间，创建一个授权层，客户端不能直接登录用户在服务台提供商的账户，只能登录授权层，在授权层获取授权码之后，然后通过授权层获取登录的令牌（在第三方A网站的服务器后台进行），并设置令牌的的权限范围和有效期。

## 令牌模式
+ 授权码（authorization-code）
+ 隐藏式（implicit）
+ 密码式（password）
+ 客户端凭证（client credentials）

**备注**：所有的模式，都需要去服务提供商进行身份鉴别认证。
###### 授权码
- 微信授权登录为案例
- 很多大公司一般都使用此种方式

![image](https://res.wx.qq.com/wxdoc/dist/assets/img/api-login.2fcc9f35.jpg)

###### 隐蔽式（不推荐）
- 直接在A网站提供一个B网站的链接，可户同意时，直接携带令牌传送给A网站（网站的）；
- 令牌有效期也比较端；
- 同步处理的方式（在浏览器之间页面跳转）

###### 密码式（不推荐）
- 用户告知A网站在B网站的账户和密码；
- 登录之后，直接颁发令牌；
- 建立在绝对信任的基础上。

###### 凭证式
- 适用于没有前端的命令行应用，如SSH远程登录；
- 此种方式是针对第三方应用的（A网站），不是针对用户的，可能共享一个登陆凭证。

## 令牌与密码
1. 令牌是的短期的，到期会自动失效，用户无法自己修改；
2. 令牌可以被数据所有者撤销，会立即失效；
3. 令牌有权限范围，比如只能获取某些数据等；

**备注**：令牌保证了第三方应用可以获取得登录权限，同时随时可控，从系统安全上讲是安全的。
## 百科简介
OAuth2.0是OAuth协议的延续版本，但不向前兼容OAuth 1.0(即完全废止了OAuth1.0)。 OAuth 2.0关注客户端开发者的简易性。要么通过组织在资源拥有者和HTTP服务商之间的被批准的交互动作代表用户，要么允许第三方应用代表用户获得访问的权限。同时为Web应用，桌面应用和手机，和起居室设备提供专门的认证流程。2012年10月，OAuth 2.0协议正式发布为RFC 6749

百科地址：[https://baike.baidu.com/item/OAuth2.0/6788617?fr=aladdin](https://baike.baidu.com/item/OAuth2.0/6788617?fr=aladdin)



